<div fxLayout="column">
    <app-parent-reason-group [groupId]="model.reasonGroupId"></app-parent-reason-group>
    <div fxLayout="row" fxLayoutAlign="center">
        <div fxFlex.gt-lg="20"
             fxFlex.gt-md="30"
             fxFlex.gt-sm="40"
             fxFlex.gt-xs="50"
             fxFlex.xs="100"
        >
            <form #createProblemForm="ngForm" [formGroup]="form" fxLayout="column" fxLayoutGap="10px">
                <button (click)="fileInput.click()"
                        mat-raised-button
                        [disabled]="creating"
                >Выбрать фото
                </button>
                <input #fileInput (change)="onFileSelect($event)" hidden multiple name="files" type="file">

                <div fxLayout="row" fxLayoutGap="5px">
                    <img *ngFor="let file of files" [src]="file.preview" height="100" alt="preview"
                         (click)="deleteFile(file)">
                </div>
                <div fxLayout="row">
                    <mat-form-field appearance="fill" fxFlex>
                        <mat-label>Текст обращения</mat-label>
                        <textarea matInput cdkTextareaAutosize formControlName="body" name="body"></textarea>
                    </mat-form-field>
                </div>

                <button (click)="doSend()"
                        color="primary"
                        mat-raised-button
                        type="submit"
                        [disabled]="creating"
                >Отправить
                </button>
                <button (click)="doReset()"
                        color="primary"
                        mat-raised-button
                        type="submit"
                        *ngIf="creating"
                >Новое обращение
                </button>
            </form>
        </div>
    </div>

</div>
